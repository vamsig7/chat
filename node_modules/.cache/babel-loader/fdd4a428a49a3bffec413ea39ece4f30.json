{"ast":null,"code":"var _jsxFileName = \"/home/krishnavamsi/Documents/chat-master/src/components/chat/MessageList/index.js\";\nimport React from \"react\";\nimport Toolbar from \"../Toolbar\";\nimport ToolbarButton from \"../ToolbarButton\";\nimport Message from \"../Message\";\nimport { store, collect } from \"react-recollect\";\nimport request from \"request\";\nimport \"./MessageList.css\";\n\nclass MessageList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getMessages = () => {\n      request.get({\n        url: \"http://node-server-t.herokuapp.com/api/v1/getMessages\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n          convId: \"5e065bfedf675c0017823b9c\"\n        }\n      }, (err, res, body) => {\n        if (err) {\n          console.log(\"error here\");\n        } else {\n          var message = Json.parse(body).data.messages.body;\n          console.log(message);\n          store.tasks.push({\n            id: \"200\",\n            message: message,\n            isMine: true\n          });\n        }\n      });\n    };\n\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.getMessages();\n  }\n\n  sendMessage(message) {\n    request.post({\n      url: \"http://node-server-t.herokuapp.com/api/v1/sendMessage\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      },\n      form: {\n        username: 1,\n        message: message\n      }\n    }, (err, res, body) => {\n      if (err) throw err;else console.log(body);\n    });\n  }\n\n  onKeyPressed(event) {\n    if (event.key === \"Enter\") {\n      this.sendMessage(event.target.value);\n      store.tasks.push({\n        id: event.target.value,\n        message: event.target.value,\n        isMine: true\n      });\n      event.target.value = \"\";\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"message-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      title: \"Conversation Title\",\n      rightItems: [React.createElement(ToolbarButton, {\n        key: \"info\",\n        icon: \"ion-ios-information-circle-outline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(ToolbarButton, {\n        key: \"video\",\n        icon: \"ion-ios-videocam\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(ToolbarButton, {\n        key: \"phone\",\n        icon: \"ion-ios-call\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), store.tasks.map(task => React.createElement(Message, {\n      key: task.id,\n      task: task,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"compose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"compose-input\",\n      defaultValue: \"\",\n      placeholder: \"Type a message, @name\",\n      onKeyDown: e => this.onKeyPressed(e),\n      tabIndex: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default collect(MessageList);","map":{"version":3,"sources":["/home/krishnavamsi/Documents/chat-master/src/components/chat/MessageList/index.js"],"names":["React","Toolbar","ToolbarButton","Message","store","collect","request","MessageList","Component","constructor","props","getMessages","get","url","headers","Authorization","localStorage","getItem","convId","err","res","body","console","log","message","Json","parse","data","messages","tasks","push","id","isMine","state","componentDidMount","sendMessage","post","form","username","onKeyPressed","event","key","target","value","render","map","task","e"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Toolbar from \"../Toolbar\";\nimport ToolbarButton from \"../ToolbarButton\";\nimport Message from \"../Message\";\nimport { store, collect } from \"react-recollect\";\nimport request from \"request\";\nimport \"./MessageList.css\";\n\nclass MessageList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  getMessages = () => {\n    request.get(\n      {\n        url: \"http://node-server-t.herokuapp.com/api/v1/getMessages\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n          convId: \"5e065bfedf675c0017823b9c\"\n        }\n      },\n      (err, res, body) => {\n        if (err) {\n          console.log(\"error here\");\n        } else {\n          var message = Json.parse(body).data.messages.body;\n          console.log(message);\n          store.tasks.push({\n            id: \"200\",\n            message: message,\n            isMine: true\n          });\n        }\n      }\n    );\n  };\n  componentDidMount() {\n    this.getMessages();\n  }\n  sendMessage(message) {\n    request.post(\n      {\n        url: \"http://node-server-t.herokuapp.com/api/v1/sendMessage\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        },\n        form: {\n          username: 1,\n          message: message\n        }\n      },\n      (err, res, body) => {\n        if (err) throw err;\n        else console.log(body);\n      }\n    );\n  }\n  onKeyPressed(event) {\n    if (event.key === \"Enter\") {\n      this.sendMessage(event.target.value);\n      store.tasks.push({\n        id: event.target.value,\n        message: event.target.value,\n        isMine: true\n      });\n      event.target.value = \"\";\n    }\n  }\n  render() {\n    return (\n      <div className=\"message-list\">\n        <Toolbar\n          title=\"Conversation Title\"\n          rightItems={[\n            <ToolbarButton\n              key=\"info\"\n              icon=\"ion-ios-information-circle-outline\"\n            />,\n            <ToolbarButton key=\"video\" icon=\"ion-ios-videocam\" />,\n            <ToolbarButton key=\"phone\" icon=\"ion-ios-call\" />\n          ]}\n        />\n\n        {store.tasks.map(task => (\n          <Message key={task.id} task={task} />\n        ))}\n\n        <div className=\"compose\">\n          <input\n            type=\"text\"\n            className=\"compose-input\"\n            defaultValue={\"\"}\n            placeholder=\"Type a message, @name\"\n            onKeyDown={e => this.onKeyPressed(e)}\n            tabIndex=\"0\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\nexport default collect(MessageList);\n"]},"metadata":{},"sourceType":"module"}